---
layout: post
published: false
title: CS3103 - Experiment 2
---
# DHCP
Can be same networks or differnet
## Same networks
![CS3230-lab-2-1.PNG]({{site.baseurl}}/img/CS3230-lab-2-1.PNG)

- DHCP issues a passive open command on UDP port 67 and waits for client
- Booted client issues an active open command. Message is encapsulated in UDP user datagram, which in turn encapsulated in IP datagram
	- Client use all 0 as source
    - All 1 as dest
- Serverr response with either broadcast or unicast message using UDP source port 67 with destination port 68

## Different networks
![CS3230-lab-2-2.PNG]({{site.baseurl}}/img/CS3230-lab-2-2.PNG)


- Broadcast to a relay agent which can be a router or host
= Relay agents knows the unicast add of a DHCP server and listens for broadcast messageat port 67
- When recieve, it encapsulate the message in unicast datagrams and sends the request to the DHCP server
- The rest is the same

> the reason why we use a standard port 68 because of demultiplexing issues

#### Error control
- Checksum: UDP uses this 
- Retransmission policy: Retransmit if the timers runs out

# Configuration
DHCP can be devsied to provide static allocation or dynamic address allocation

## Static
- DHCP server has a database that statiscally binds physical address to IPaddress.
- Deprecated protocol BOOTP

## Dynamic
- DHCP has second database with pool of ipaddress
- DHCP server provides requesting clients with ip addressing with its pool
	- Check static
    - Not exisst: Select and assign
    - add entry
- This is temporary with a lease which is a time out
- can renew the lease

## Transistion states
- DHCP client acts as a state machine that performs transmission from one state to another depending on the message it recieves.

Option:
![CS3230-lab-2-3.PNG]({{site.baseurl}}/img/CS3230-lab-2-3.PNG)



