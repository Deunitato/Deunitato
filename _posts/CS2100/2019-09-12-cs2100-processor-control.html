---
layout: post
title: 'CS2100: Processor - Control'
date: '2019-09-12T06:06:00.000-07:00'
author: Charlotte Deunitato
tags: 
modified_time: '2019-09-24T22:21:51.583-07:00'
thumbnail: https://1.bp.blogspot.com/-tQw94WN8mcQ/XYrxfAyHFnI/AAAAAAAACMA/6-HpVth2anAkQxwJnyoZiTAiHFbNoW0sACLcBGAsYHQ/s72-c/4.png
blogger_id: tag:blogger.com,1999:blog-4520250687931855860.post-6777915406024186504
blogger_orig_url: https://nusmods.blogspot.com/2019/09/cs2100-processor-control.html
---

<h2>Control</h2><h3><div class="separator" style="clear: both; text-align: center;"><a href="https://1.bp.blogspot.com/-tQw94WN8mcQ/XYrxfAyHFnI/AAAAAAAACMA/6-HpVth2anAkQxwJnyoZiTAiHFbNoW0sACLcBGAsYHQ/s1600/4.png" imageanchor="1" style="margin-left: 1em; margin-right: 1em;"><img border="0" data-original-height="680" data-original-width="1102" height="246" src="https://1.bp.blogspot.com/-tQw94WN8mcQ/XYrxfAyHFnI/AAAAAAAACMA/6-HpVth2anAkQxwJnyoZiTAiHFbNoW0sACLcBGAsYHQ/s400/4.png" width="400" /></a></div></h3><h3>Control unit</h3><div>We will have the control unit that is plug into all the components mention in the previous slides (MUX/REGISTERS/DATAMEMORY)</div><div>This will allow us to control when we want each component to accept each specific data</div><div><br /></div><h3>Control Signals</h3><div><br /></div><div class="separator" style="clear: both; text-align: center;"><a href="https://1.bp.blogspot.com/-J2p7BaxhAOg/XXpRc0cAnKI/AAAAAAAACFE/ZrcfgPpJJAwKM2zFU87yzcGvPFfHplQMgCLcBGAsYHQ/s1600/3.PNG" imageanchor="1" style="margin-left: 1em; margin-right: 1em;"><img border="0" data-original-height="681" data-original-width="1015" height="267" src="https://1.bp.blogspot.com/-J2p7BaxhAOg/XXpRc0cAnKI/AAAAAAAACFE/ZrcfgPpJJAwKM2zFU87yzcGvPFfHplQMgCLcBGAsYHQ/s400/3.PNG" width="400" /></a></div><div class="separator" style="clear: both; text-align: center;"><a href="https://1.bp.blogspot.com/-EFs3nZ9wiHA/XYR8uQpWe5I/AAAAAAAACHY/uZa_NYSzwRI6KzR-okoBcCqI7skMU7dBwCLcBGAsYHQ/s1600/2.jpg" imageanchor="1" style="margin-left: 1em; margin-right: 1em;"><img border="0" data-original-height="1600" data-original-width="1168" height="400" src="https://1.bp.blogspot.com/-EFs3nZ9wiHA/XYR8uQpWe5I/AAAAAAAACHY/uZa_NYSzwRI6KzR-okoBcCqI7skMU7dBwCLcBGAsYHQ/s400/2.jpg" width="291" /></a></div><div class="separator" style="clear: both; text-align: center;"><br /></div><div><br /></div><div><b>RegDst</b></div><div>Controls the multiplexer.</div><div>False (0) - Write register = Inst[20:16] //Register Target</div><div>True (1) - Write register = Inst[15:11] //Register Destination</div><div>(Inst[Bitsfrom instruction])</div><div><br /></div><div>R-Type -&gt; 1</div><div>lw -&gt; 0 //has no third register, rt is the register number</div><div>sw-&gt; X //we dont care, we are not even going to write back</div><div>beq-&gt; X //we dont care</div><div><br /></div><div><b>RegWrite</b></div><div>Controls the write to register</div><div><div>False (0) - No register Write</div><div>True (1) - New value will be written</div></div><div><br /></div><div><div>R-Type -&gt; 1</div><div>lw -&gt; 1</div><div>sw-&gt; 0&nbsp;</div><div>beq-&gt; 0 //because of the previous</div></div><div><br /></div><div><div><b>ALUSrc</b></div><div>Controls the write to register</div><div><div>False (0) - Operand2 = Register Read Data 2</div><div>True (1) - Operand2 = SignExt (Inst [15:0]) //for immediate</div><div><br /></div><div>R-Type -&gt; 0</div></div><div><div>lw -&gt; 1</div><div>sw-&gt; 1&nbsp;</div><div>beq-&gt; 0 //The signal is send to the adder, we need to ensure that the second register goes to the ALU</div></div></div><div><br /></div><div><div><b>Memread</b></div><div>Under datamemory</div><div><div>False (0) - Not performing memory read access</div><div>True (1) - Read memory using address</div></div><div><br /></div><div><div>R-Type -&gt; 0</div><div>lw -&gt; 1</div><div>sw-&gt; 0&nbsp;</div><div>beq-&gt; 0&nbsp;</div></div></div><div><br /></div><div><div><b>Memwrite</b></div><div>Under datamemory</div><div><div>False (0) - Not performing memory write access</div><div>True (1) - Write memory using address</div></div><div><br /></div><div><div>R-Type -&gt; 0</div><div>lw -&gt; 0</div><div>sw-&gt; 1&nbsp;</div><div>beq-&gt; 0&nbsp;</div></div></div><div><br /></div><div><br /></div><div><div><b>MemToReg</b></div><div><b><span style="color: red;">This mux is reverse input</span></b></div><div>To select the memory or ALU result to be written back to the register</div><div><div>False (0) - ALU result</div><div>True (1) - Memory read data</div></div><div><br /></div><div><div>R-Type -&gt; 0 //write back to register</div><div>lw -&gt; 1 //route to back from memory</div><div>sw-&gt; X</div><div>beq-&gt; X //Due to regwrite control ignoring</div><div><br /></div><div><b>PCSrc</b></div><div>Selects the next instruction or the branch target address</div><div>However, is this signal generate from the type of pc source</div><div>We need to check if its a branch instruction. (It could be SW)</div><div><br /></div><div>Check if its Branch:</div><div>Branch = 1</div><div>Not Branch = 0</div><div><br /></div><div>Check if we can jump:</div><div>Taken = 1</div><div>Not Taken = 0</div><div><br /></div><div>We will use an AND gate to and it together to drive this MUX</div><div><br /></div><div><div>R-Type -&gt; 0</div><div>lw -&gt; 0</div><div>sw-&gt; 0&nbsp;</div></div><div>beq-&gt; 1 //only beq will jump</div><div><br /></div><h3>ALUcontrol signal</h3></div></div><div>We need to know the opcode and the function code to generate the alu signal</div><div><br /></div><h4>Multilevel decoding</h4><div>Using the control that is looking at the opcode, generate the ALUop signal</div><div>Generate ALUCtrl signal from ALUop and optionally function field.</div><div><br /></div><div><br /></div><div class="separator" style="clear: both; text-align: center;"><a href="https://1.bp.blogspot.com/-uuV4ir873Ng/XXpRufFfppI/AAAAAAAACFM/PeH_nLuNoV4Kxfn-RpmEIRDEYau1sQJEwCLcBGAsYHQ/s1600/unknown.png" imageanchor="1" style="margin-left: 1em; margin-right: 1em;"><img border="0" data-original-height="558" data-original-width="806" height="276" src="https://1.bp.blogspot.com/-uuV4ir873Ng/XXpRufFfppI/AAAAAAAACFM/PeH_nLuNoV4Kxfn-RpmEIRDEYau1sQJEwCLcBGAsYHQ/s400/unknown.png" width="400" /></a></div><div><br /></div><div><br /></div><div><b><br /></b></div><div><a href="https://nusmods.blogspot.com/2019/09/cs2100-processor-data-path.html">&lt;Prev</a></div>